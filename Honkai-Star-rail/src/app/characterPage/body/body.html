<div *ngIf="character" class="container mt-4 text-center">
  <h2>{{ character.name }}</h2>
  <img [src]="backendUrl + character.image" 
       [alt]="character.name" class="img-fluid mb-3">
  <p><strong>Type:</strong> {{ character.type }}</p>
  <p>{{ character.description }}</p>
</div>

<div *ngIf="!character">
  <p>Character not found.</p>
</div>

<div class="container mt-5 mb-5 text-white">
  <h3 class="mb-4">Comments</h3>

  <!-- Add Comment -->
  <div class="p-4 mb-4" style="background-color: #151437; border-radius: 16px;">
    <input [(ngModel)]="userName" class="form-control mb-4" placeholder="Your name (optional)">
    <textarea [(ngModel)]="newComment" class="form-control mb-3" rows="3"
              placeholder="Write your comment..." style="background-color:#0f0e27; border:none; color:white;"></textarea>
    <button class="btn w-100 fw-bold" style="background-color:#6C63FF; border:none;"
            (click)="postComment()">
      Post Comment
    </button>
  </div>

  <!-- Existing Comments -->
  <div class="p-4" style="background-color: #151437; border-radius: 16px;">
    <div *ngIf="comments.length === 0">
      <p>No comments yet. Be the first to write one!</p>
    </div>
    <div *ngFor="let comment of comments" class="p-3 mb-3" style="background-color:#0f0e27; border-radius:12px;">
      <strong>{{ comment.userName }}</strong>
      <p>{{ comment.text }}</p>
      <small>Posted on {{ comment.createdAt | date:'medium' }}</small>
    </div>
  </div>
</div>
